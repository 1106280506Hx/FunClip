@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom scrollbar for dark mode */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #202123;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: #565869;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #6b6d7b;
}

/* Base styles */
html,
body,
#root {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
}

body {
  @apply bg-dark-900 text-dark-100 font-sans antialiased;
}

/* Custom utilities */
@layer utilities {
  .glass {
    @apply bg-dark-800/80 backdrop-blur-xl border border-dark-700/50;
  }

  .glass-hover {
    @apply hover:bg-dark-700/80 transition-colors duration-200;
  }

  .glow-border {
    @apply border border-accent-primary/30 shadow-glow;
  }

  .text-gradient {
    @apply bg-gradient-to-r from-accent-primary to-accent-secondary bg-clip-text text-transparent;
  }
}

/* Animation keyframes */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }

  100% {
    background-position: 200% 0;
  }
}

@keyframes music-bar-1 {

  0%,
  100% {
    height: 4px;
  }

  50% {
    height: 12px;
  }
}

@keyframes music-bar-2 {

  0%,
  100% {
    height: 8px;
  }

  50% {
    height: 16px;
  }
}

@keyframes music-bar-3 {

  0%,
  100% {
    height: 6px;
  }

  50% {
    height: 14px;
  }
}

.animate-music-bar-1 {
  animation: music-bar-1 0.6s ease-in-out infinite;
}

.animate-music-bar-2 {
  animation: music-bar-2 0.7s ease-in-out infinite;
}

.animate-music-bar-3 {
  animation: music-bar-3 0.8s ease-in-out infinite;
}

.animate-shimmer {
  background: linear-gradient(90deg,
      transparent 0%,
      rgba(99, 102, 241, 0.1) 50%,
      transparent 100%);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* Timeline specific styles */
.timeline-container {
  @apply relative overflow-x-auto overflow-y-hidden;
}

.timeline-track {
  @apply relative h-16 border-b border-dark-700;
}

.timeline-clip {
  @apply absolute h-full rounded cursor-move transition-all duration-150;
}

.beat-marker {
  @apply absolute w-0.5 bg-beat-marker z-10 pointer-events-none;
}

/* Video player styles */
.video-container {
  @apply relative aspect-video bg-black rounded-lg overflow-hidden;
}

.video-controls {
  @apply absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent;
}

/* Tag cloud styles */
.tag-cloud {
  @apply flex flex-wrap gap-2;
}

.semantic-tag {
  @apply px-3 py-1 rounded-full text-sm font-medium transition-all duration-200;
}

.semantic-tag.scene {
  @apply bg-blue-500/20 text-blue-400 hover:bg-blue-500/30;
}

.semantic-tag.object {
  @apply bg-green-500/20 text-green-400 hover:bg-green-500/30;
}

.semantic-tag.person {
  @apply bg-purple-500/20 text-purple-400 hover:bg-purple-500/30;
}

.semantic-tag.action {
  @apply bg-orange-500/20 text-orange-400 hover:bg-orange-500/30;
}

.semantic-tag.emotion {
  @apply bg-pink-500/20 text-pink-400 hover:bg-pink-500/30;
}

.semantic-tag.audio {
  @apply bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30;
}

/* Emotion wheel styles */
.emotion-wheel {
  @apply relative w-48 h-48 rounded-full;
}

.emotion-segment {
  @apply absolute w-full h-full transition-all duration-300 cursor-pointer;
}

/* Waveform styles */
.waveform-container {
  @apply relative h-12 bg-dark-800 rounded overflow-hidden;
}

.waveform-bar {
  @apply absolute bottom-0 bg-gradient-to-t from-accent-primary to-accent-secondary;
  min-width: 2px;
}

/* Panel resize handles */
.resize-handle {
  @apply absolute bg-dark-600 hover:bg-accent-primary transition-colors duration-200 z-20;
}

.resize-handle-vertical {
  @apply w-1 h-full cursor-col-resize;
}

.resize-handle-horizontal {
  @apply h-1 w-full cursor-row-resize;
}

/* Dropdown and menu styles */
.dropdown-menu {
  @apply absolute z-50 mt-2 py-2 rounded-lg glass shadow-xl min-w-48;
}

.dropdown-item {
  @apply px-4 py-2 text-sm text-dark-200 hover:bg-dark-700 hover:text-white cursor-pointer flex items-center gap-2;
}

/* Modal styles */
.modal-overlay {
  @apply fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50;
}

.modal-content {
  @apply glass rounded-xl p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto;
}

/* Button variants */
.btn {
  @apply px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center justify-center gap-2;
}

.btn-primary {
  @apply bg-accent-primary hover:bg-accent-primary/80 text-white shadow-glow;
}

.btn-secondary {
  @apply bg-dark-700 hover:bg-dark-600 text-dark-100;
}

.btn-ghost {
  @apply bg-transparent hover:bg-dark-700 text-dark-300 hover:text-white;
}

.btn-danger {
  @apply bg-accent-error hover:bg-accent-error/80 text-white;
}

/* Input styles */
.input {
  @apply w-full px-4 py-2 bg-dark-800 border border-dark-600 rounded-lg text-dark-100 placeholder-dark-400 focus:outline-none focus:border-accent-primary focus:ring-1 focus:ring-accent-primary transition-all duration-200;
}

.input-search {
  @apply pl-10;
}

/* Card styles */
.card {
  @apply glass rounded-xl overflow-hidden transition-all duration-200;
}

.card-hover {
  @apply hover:border-accent-primary/50 hover:shadow-glow cursor-pointer;
}

/* Progress bar */
.progress-bar {
  @apply h-1 bg-dark-700 rounded-full overflow-hidden;
}

.progress-fill {
  @apply h-full bg-gradient-to-r from-accent-primary to-accent-secondary transition-all duration-300;
}

/* Tooltip styles */
.tooltip {
  @apply absolute z-50 px-2 py-1 text-xs bg-dark-700 text-dark-100 rounded shadow-lg opacity-0 pointer-events-none transition-opacity duration-200;
}

.tooltip-visible {
  @apply opacity-100;
}

/* Skeleton loading */
.skeleton {
  @apply bg-dark-700 rounded animate-pulse;
}

/* Tab styles */
.tab {
  @apply px-4 py-2 text-sm font-medium text-dark-400 border-b-2 border-transparent hover:text-dark-100 transition-all duration-200 cursor-pointer;
}

.tab-active {
  @apply text-white border-accent-primary;
}

/* AI Loading Animations */
@keyframes scanline {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(100%); }
}

@keyframes float {
  0%, 100% { transform: translateY(0) rotate(0); }
  50% { transform: translateY(-10px) rotate(5deg); }
}

@keyframes float-slow {
  0%, 100% { transform: translate(-50%, 0) rotate(0); }
  50% { transform: translate(-50%, -15px) rotate(-5deg); }
}

@keyframes float-delayed {
  0%, 100% { transform: translateY(0) rotate(0); }
  50% { transform: translateY(-12px) rotate(-8deg); }
}

@keyframes progress-loading {
  0% { width: 0%; }
  12% { width: 12%; }
  15% { width: 12%; }
  25% { width: 35%; }
  30% { width: 35%; }
  45% { width: 48%; }
  55% { width: 48%; }
  70% { width: 82%; }
  80% { width: 82%; }
  92% { width: 95%; }
  95% { width: 95%; }
  100% { width: 100%; }
}

@keyframes flicker {
  0%, 19.999%, 22%, 62.999%, 64%, 64.999%, 70%, 100% { opacity: 1; }
  20%, 21.999%, 63%, 63.999%, 65%, 69.999% { opacity: 0.4; }
}

.animate-flicker {
  animation: flicker 3s linear infinite;
}

@keyframes terminal-entry {
  0% { opacity: 0; transform: translateY(4px); }
  100% { opacity: 1; transform: translateY(0); }
}

.animate-terminal-1 { animation: terminal-entry 0.2s both; animation-delay: 1.5s; }
.animate-terminal-2 { animation: terminal-entry 0.2s both; animation-delay: 4.5s; }
.animate-terminal-3 { animation: terminal-entry 0.2s both; animation-delay: 8.5s; }
.animate-terminal-4 { animation: terminal-entry 0.2s both; animation-delay: 12.5s; }

.animate-scanline {
  animation: scanline 3s linear infinite;
}

.animate-float {
  animation: float 4s ease-in-out infinite;
}

.animate-float-slow {
  animation: float-slow 6s ease-in-out infinite;
}

.animate-float-delayed {
  animation: float-delayed 5s ease-in-out infinite;
  animation-delay: 1s;
}

.animate-progress-loading {
  animation: progress-loading 15s linear forwards;
}